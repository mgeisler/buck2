<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-concepts/glossary">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Glossary of Terms | Buck2</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/concepts/glossary/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Glossary of Terms | Buck2"><meta data-rh="true" name="description" content=".buckconfig"><meta data-rh="true" property="og:description" content=".buckconfig"><link data-rh="true" rel="icon" href="/img/logo.png"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/concepts/glossary/"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/concepts/glossary/" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/concepts/glossary/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e8ab84c1.css">
<link rel="preload" href="/assets/js/runtime~main.54e5d993.js" as="script">
<link rel="preload" href="/assets/js/main.604a391f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Buck2</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/generated/starlark/prelude/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookincubator/buck2" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/why/">About Buck2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/concepts/concept_map/">Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/concept_map/">Concept Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/target_pattern/">Target Pattern</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/visibility/">Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/daemon/">Daemon (buckd)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/concepts/glossary/">Glossary of Terms</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/commands/">Buck2 Users</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/rule_authors/writing_rules/">Rule Authors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/developers/architecture/buck2/">Buck2 Developers</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Concepts</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Glossary of Terms</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Glossary of Terms</h1></header><h4 class="anchor anchorWithStickyNavbar_LWe7" id="buckconfig">.buckconfig<a class="hash-link" href="#buckconfig" title="Direct link to heading">â€‹</a></h4><p>The root of your <a href="#project">project</a> must contain a configuration file named <code>.buckconfig</code>. Before executing, Buck2 reads this file to incorporate specified customizations. For more information, refer to the <a href="https://buck2.build/docs/legacy/files-and-directories/dot-buckconfig" target="_blank" rel="noopener noreferrer">Legacy docs</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="action">Action<a class="hash-link" href="#action" title="Direct link to heading">â€‹</a></h4><p>An individual, cacheable, ideally hermetic command that&#x27;s run during the <a href="#buck-file">build</a>. It takes <a href="#artifact">artifacts</a> as inputs and produces other artifacts as outputs. An example command could be <code>gcc -o main main.c</code>, which takes the artifact <code>main.c</code> (a source file) and produces the artifact called <code>main</code> (the compiled binary).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="action-graph">Action graph<a class="hash-link" href="#action-graph" title="Direct link to heading">â€‹</a></h4><p>The dependency graph of all <a href="#action">actions</a> belonging to a target: it can be queried with <code>buck2 aquery</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="artifact">Artifact<a class="hash-link" href="#artifact" title="Direct link to heading">â€‹</a></h4><p>A single input or output of an <a href="#action">action</a>. These are files that participate as inputs or outputs of a build and can be source files or build outputs. For more information, see the <a href="https://buck2.build/docs/generated/native/Artifact/" target="_blank" rel="noopener noreferrer">Artifact API</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="attribute">Attribute<a class="hash-link" href="#attribute" title="Direct link to heading">â€‹</a></h4><p>Declared by a <a href="#rule">rule</a> and used to express the properties of a particular instance of a rule to create a <a href="#target">target</a>. For example, srcs, deps and copts, which declare a target&#x27;s source files, dependencies, and custom compiler options, respectively. The available attributes for a target depend on its rule type.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="buck-file">BUCK file<a class="hash-link" href="#buck-file" title="Direct link to heading">â€‹</a></h4><p>A <code>BUCK</code> file (the name is configurable, some projects use <code>TARGETS</code>) is the main configuration file that tells Buck2 what to build, what their dependencies are, and how to build them. Buck2 takes a <code>BUCK</code> file as input and evaluates the file to declare <a href="#target">targets</a>, which are then used to create a graph of dependencies and to derive the <a href="#action">actions</a> that must be completed to build intermediate and final software outputs. A <code>BUCK</code> file marks a directory and any sub-directories not containing a <code>BUCK</code> file as a <a href="#package">package</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bxl">BXL<a class="hash-link" href="#bxl" title="Direct link to heading">â€‹</a></h4><p>BXL (<a href="https://buck2.build/docs/developers/bxl" target="_blank" rel="noopener noreferrer">Buck eXtension Language</a>) scripts are written in <a href="https://github.com/facebookexperimental/starlark-rust" target="_blank" rel="noopener noreferrer">Starlark</a> (a restricted subset of Python) and give integrators the ability to inspect and interact directly with the buck2 graph.</p><p>BXL scripts can query the <a href="#action-graph">action graph</a>, <a href="#configured-graph">configured graph</a>, and <a href="#unconfigured-graph">unconfigured graph</a>. They can also create <a href="#action">actions</a> and trigger builds.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cell">Cell<a class="hash-link" href="#cell" title="Direct link to heading">â€‹</a></h4><p>The directory tree of one or more Buck2 <a href="#package">packages</a>. A Buck2 build can involve multiple cells. The cell root always contains a <a href="#buckconfig">.buckconfig</a>, although the presence of a .buckconfig file doesn&#x27;t in itself define a cell. Rather, the cells involved in a build are defined at the time Buck2 is invoked; they are specified in the .buckconfig for the Buck <a href="#project">project</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">â€‹</a></h4><p>Configurations consist of a set of &#x27;constraint values&#x27; that are used to resolve <code>select</code> <a href="#attribute">attributes</a> prior to evaluating <a href="#rule">rule</a> implementations: the attribute takes the value of the first branch in the <code>select</code> that matches the configuration.</p><p>Configurations are instantiated by rules that produce a <code>PlatformInfo</code> <a href="#provider">provider</a>. Once created, targets can receive their configuration through a variety of mechanisms, such as:</p><ul><li>Inheritance - by default, when following a dependency edge A -&gt; B, B inherits A&#x27;s configuration.</li><li>The <code>default_target_platform</code> attribute and <code>--target-platforms</code> command line flag.</li><li><a href="#transition">Transitions</a> (see below).</li></ul><p>Configurations allow a single target to exist in multiple variants in the configured graph (for example, to build a given binary at differing optimization levels or targeting different CPU architectures).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configured-graph">Configured graph<a class="hash-link" href="#configured-graph" title="Direct link to heading">â€‹</a></h4><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>ðŸš§Â Â Â THIS SECTION IS UNDER CONSTRUCTION</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="daemon">Daemon<a class="hash-link" href="#daemon" title="Direct link to heading">â€‹</a></h4><p>The Daemon process lives between invocations and is designed to allow for cache reuse between Buck2 invocations, which can considerably speed up builds. For more information, see <a href="/docs/concepts/daemon/">Daemon (buckd)</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dependency">Dependency<a class="hash-link" href="#dependency" title="Direct link to heading">â€‹</a></h4><p>A directed edge between two <a href="#target">targets</a>. A target <code>A</code> can have a dependency on target <code>B</code>, for example, if any <code>dep</code> attribute of <code>A</code> mentions <code>B</code>. A target&#x27;s dependence on another target is determined by the <a href="#visibility">visibility</a> of the latter.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="execution-platform">Execution platform<a class="hash-link" href="#execution-platform" title="Direct link to heading">â€‹</a></h4><p>A type of <a href="#rule">rule</a> that includes information such as what execution types a <a href="#target">target</a> supports, which can be <a href="#remote-execution-re">remote</a>, local, and <a href="#hybrid-execution">hybrid</a> execution. Also, whether it supports cache uploads, which allows users to get cache hits for things that executed locally.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid-execution">Hybrid execution<a class="hash-link" href="#hybrid-execution" title="Direct link to heading">â€‹</a></h4><p>Enables shifting work to the local host when available parallelism in the build is low. This enables users to save on <a href="#remote-execution-re">remote execution</a> roundtrips to enable faster builds.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="isolation-dir">Isolation dir<a class="hash-link" href="#isolation-dir" title="Direct link to heading">â€‹</a></h4><p>Instances of Buck2 share a <a href="#daemon">daemon</a> if and only if their isolation directory is identical. The isolation directory also influences the output paths provided by Buck2.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="package">Package<a class="hash-link" href="#package" title="Direct link to heading">â€‹</a></h4><p>A directory that contains a Buck2 <a href="#buck-file">BUCK file</a> and all source files belonging to the same directory as the BUCK file, or any of its subdirectories that do not contain a BUCK file themselves.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project">Project<a class="hash-link" href="#project" title="Direct link to heading">â€‹</a></h4><p>The Outermost directory where there is a <a href="#buckconfig">.buckconfig</a>: also known as the <a href="#cell">root cell</a>. The .buckconfig for the project specifies the <a href="#cell">cells</a> that constitute the Buck2 project. Specifically, these cells are specified in the &#x27;<!-- -->[repositories]<!-- -->&#x27; section of the <code>.buckconfig</code>. All command invocations are executed from the project root.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="provider">Provider<a class="hash-link" href="#provider" title="Direct link to heading">â€‹</a></h4><p>Data returned from a <a href="#rule">rule</a> function. It&#x27;s the only way that information from this rule is available to other rules that depend on it (see <a href="#dependency">dependency</a>). Every rule must return at least the <code>DefaultInfo</code> provider. A common case is to also return either <code>RunInfo</code> (because they are executable) or custom providers that the dependents rule can use. For more information, see <a href="https://buck2.build/docs/rule_authors/writing_rules/#providers" target="_blank" rel="noopener noreferrer">Providers</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="remote-execution-re">Remote execution (RE)<a class="hash-link" href="#remote-execution-re" title="Direct link to heading">â€‹</a></h4><p>Distributed execution of <a href="#action">actions</a> on remote workers. It can speed up builds significantly by scaling the nodes available for parallel actions, and by caching action outputs across Buck2 users.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="rule">Rule<a class="hash-link" href="#rule" title="Direct link to heading">â€‹</a></h4><p>A rule consists of an attribute spec and an implementation, which is a <a href="https://github.com/facebookexperimental/starlark-rust" target="_blank" rel="noopener noreferrer">Starlark</a> function.</p><p>The attribute spec declares what attributes the rule expects to receive. The rule implementation receives the <a href="#attribute">attributes</a> of a <a href="#target">target</a> and the <a href="#provider">providers</a> of its <a href="#dependency">dependencies</a>. It can declare new <a href="#action">actions</a> and <a href="#artifact">artifacts</a> and must return <a href="#provider">providers</a> that can be used to pass data to its dependents or to Buck2 itself.</p><p>Rules are instantiated in <a href="#buck-file">BUCK files</a> to declare targets and set their attributes. The rule implementation is called when Buck2 needs its providers, which can happen when the target is built, or when one of its dependents is.</p><p>As an example, the <code>cxx_binary</code> rule could be used to create a C++ binary, but <code>android_binary</code> rule would be used to create an Android APK</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="target">Target<a class="hash-link" href="#target" title="Direct link to heading">â€‹</a></h4><p>An object that is defined in a <a href="#buck-file">BUCK file</a>. Targets represent the buildable units of a build from the perspective of the end user. Declared by instantiating a <a href="#rule">rule</a> with attributes. A target has <a href="#dependency">dependencies</a>, which are references to other targets.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="target-label">Target label<a class="hash-link" href="#target-label" title="Direct link to heading">â€‹</a></h4><p>The identifier for a <a href="#target">target</a>. Structured as <code>cellAlias//path/to/package:target</code>, where <code>cellAlias//</code> maps to a <a href="#cell">cell root</a> path (as defined in the <a href="#buckconfig">./buckconfig</a> of the cell this target belongs to), <code>path/to/package</code> is the <a href="#package">package</a> directory that contains the <a href="#buck-file">BUCK file</a> declaring the target (relative to the mapped cell alias), and <code>:target</code> is the target&#x27;s name.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="target-pattern">Target pattern<a class="hash-link" href="#target-pattern" title="Direct link to heading">â€‹</a></h4><p>A string that resolves to a set of <a href="#target">targets</a>. They can be used as arguments to commands such as <code>buck2 build</code> and <code>buck2 uquery</code>. They can also be used in the <a href="#visibility">visibility</a> argument of a <a href="#rule">rule</a>. For more information, see <a href="/docs/concepts/target_pattern/">Target pattern</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="transition">Transition<a class="hash-link" href="#transition" title="Direct link to heading">â€‹</a></h4><p>Allows the <a href="#configuration">configuration</a> to change across a <a href="#dependency">dependency</a> edge. That is, normally, if <a href="#target">target</a> A depends on target B, then if the configuration for A is X, then B is configured using X too. By using a transition, you can produce X to configure B instead.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="unconfigured-graph">Unconfigured graph<a class="hash-link" href="#unconfigured-graph" title="Direct link to heading">â€‹</a></h4><p>A graph of <a href="#target">targets</a> before <a href="#configuration">configurations</a> are applied. Can be queried via <code>buck2 uquery</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="visibility">Visibility<a class="hash-link" href="#visibility" title="Direct link to heading">â€‹</a></h4><p>Determines whether a <a href="#target">target</a> can include another <a href="#target">target</a> as its <a href="#dependency">dependency</a>. For more information, see <a href="/docs/concepts/visibility/">Visibility</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/concepts/daemon/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Daemon (buckd)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/commands/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Commands</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">User guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebookincubator/buck2/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebookincubator/buck2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Meta, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.54e5d993.js"></script>
<script src="/assets/js/main.604a391f.js"></script>
</body>
</html>